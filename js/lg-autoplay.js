/*! lg-autoplay - v1.0.4 - 2017-03-28
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2017 Sachin N; Licensed GPLv3 */
!function(o,e){"function"==typeof define&&define.amd?define(["jquery"],(function(o){return e(o)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(o){!function(){"use strict";var e={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},t=function(t){return this.core=o(t).data("lightGallery"),this.$el=o(t),!(this.core.$items.length<2)&&(this.core.s=o.extend({},e,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};t.prototype.init=function(){var o=this;o.core.s.autoplayControls&&o.controls(),o.core.s.progressBar&&o.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),o.progress(),o.core.s.autoplay&&o.$el.one("onSlideItemLoad.lg.tm",(function(){o.startlAuto()})),o.$el.on("onDragstart.lg.tm touchstart.lg.tm",(function(){o.interval&&(o.cancelAuto(),o.canceledOnTouch=!0)})),o.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",(function(){!o.interval&&o.canceledOnTouch&&(o.startlAuto(),o.canceledOnTouch=!1)}))},t.prototype.progress=function(){var o,e,t=this;t.$el.on("onBeforeSlide.lg.tm",(function(){t.core.s.progressBar&&t.fromAuto&&(o=t.core.$outer.find(".lg-progress-bar"),e=t.core.$outer.find(".lg-progress"),t.interval&&(e.removeAttr("style"),o.removeClass("lg-start"),setTimeout((function(){e.css("transition","width "+(t.core.s.speed+t.core.s.pause)+"ms ease 0s"),o.addClass("lg-start")}),20))),t.fromAuto||t.core.s.fourceAutoplay||t.cancelAuto(),t.fromAuto=!1}))},t.prototype.controls=function(){var e=this;o(this.core.s.appendAutoplayControlsTo).append('<span class="lg-autoplay-button lg-icon"></span>'),e.core.$outer.find(".lg-autoplay-button").on("click.lg",(function(){o(e.core.$outer).hasClass("lg-show-autoplay")?(e.cancelAuto(),e.core.s.fourceAutoplay=!1):e.interval||(e.startlAuto(),e.core.s.fourceAutoplay=e.fourceAutoplayTemp)}))},t.prototype.startlAuto=function(){var o=this;o.core.$outer.find(".lg-progress").css("transition","width "+(o.core.s.speed+o.core.s.pause)+"ms ease 0s"),o.core.$outer.addClass("lg-show-autoplay"),o.core.$outer.find(".lg-progress-bar").addClass("lg-start"),o.interval=setInterval((function(){o.core.index+1<o.core.$items.length?o.core.index++:o.core.index=0,o.fromAuto=!0,o.core.slide(o.core.index,!1,!1,"next")}),o.core.s.speed+o.core.s.pause)},t.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.$outer.find(".lg-progress").removeAttr("style"),this.core.$outer.removeClass("lg-show-autoplay"),this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")},t.prototype.destroy=function(){this.cancelAuto(),this.core.$outer.find(".lg-progress-bar").remove()},o.fn.lightGallery.modules.autoplay=t}()}));